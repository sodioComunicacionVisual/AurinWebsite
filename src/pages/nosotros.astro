---
import Layout from '../layouts/Layout.astro';
import Header from '../components/ui/Header.astro';
import UsBanner from '../components/sections/us/UsBanner.astro';
import MainImage from '../components/sections/us/MainImage.astro';
import RutasInexploradas from '../components/sections/us/RutasInexploradas.astro';
import LongCards from '../components/sections/us/LongCards.astro';
import ComoLlegamos from '../components/sections/us/ComoLlegamos.astro';
import DisenoColaboracion from '../components/sections/us/DisenoColaboracion.astro';
import Alianzas from '../components/sections/us/Alianzas.astro';
import DynamicProjects from '../components/ui/DynamicProjects.astro';
import Footer from '../components/ui/Footer.astro';
import { getLangFromUrl } from '../i18n/utils.js';
import { translations } from '../i18n/translations.js';

// Detect current language
const currentLang = getLangFromUrl(Astro.url);
const t = translations[currentLang];

// SEO optimizado para LLMs y motores de búsqueda
const seoTitle = t.about.seo.title;
const seoDescription = t.about.seo.description;
const seoKeywords = t.about.seo.keywords;

// Datos estructurados para SEO (Schema.org)
const structuredData = {
  "@context": "https://schema.org",
  "@type": "AboutPage",
  "mainEntity": {
    "@type": "Organization",
    "name": "Aurin",
    "url": "https://aurin.mx",
    "logo": "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/aurinWhiteLogo.webp",
    "description": t.about.structuredData.description,
    "foundingDate": "2020",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Aldea Creativa",
      "addressCountry": "MX"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "email": "hey@aurin.mx",
      "contactType": "customer service",
      "areaServed": "MX",
      "availableLanguage": currentLang === 'en' ? "English" : "Spanish"
    },
    "sameAs": [
      "https://aldeacreativa.mx/"
    ],
    "knowsAbout": t.about.structuredData.knowsAbout,
    "areaServed": "MX",
    "serviceType": t.about.structuredData.serviceTypes
  }
};

// Selectores CSS para contenido speakable (optimización de voz)
const speakable = [".us-banner", ".rutas-inexploradas", ".como-llegamos", ".diseno-colaboracion"];
---

<Layout 
  title={seoTitle}
  description={seoDescription}
  keywords={seoKeywords}
  structuredData={structuredData}
  speakable={speakable}
  canonical="https://aurin.mx/nosotros"
  ogImage="https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/aurinWhiteLogo.webp"
>
  <Header />
  <main>
    <UsBanner />
    <MainImage />
    <RutasInexploradas />
    <LongCards />
    <ComoLlegamos />
    <DisenoColaboracion />
    <Alianzas />
    <DynamicProjects />
  </main>
  <Footer />
</Layout>

<style>
  main {
    width: 100%;
    margin: 0 auto;
    background: var(--color-black-a);
  }
</style>
