---
import { CardsParallax, type iCardItem } from './StackedCards';

interface ImageItem {
  src?: string;
  alt: string;
  placeholder?: string;
  caption?: string;
}

interface Props {
  images: ImageItem[];
}

const { images } = Astro.props;

// Transform images to iCardItem format (limit to 6 cards)
const cardItems: iCardItem[] = images.length > 0
  ? images.slice(0, 6).map(img => ({
      src: img.src,
      alt: img.alt,
      placeholder: img.placeholder
    }))
  : [
      {
        alt: 'Imagen del proyecto 1',
        placeholder: 'Proyecto Imagen 1'
      },
      {
        alt: 'Imagen del proyecto 2',
        placeholder: 'Proyecto Imagen 2'
      },
      {
        alt: 'Imagen del proyecto 3',
        placeholder: 'Proyecto Imagen 3'
      },
      {
        alt: 'Imagen del proyecto 4',
        placeholder: 'Proyecto Imagen 4'
      }
    ];
---

<CardsParallax items={cardItems} client:load />
