---
import styles from './ImageGrid.module.css';

interface Props {
  image?: string;
  alt?: string;
}

const { image, alt = 'Imagen del proyecto' } = Astro.props;
---

<section class={styles.imageSection}>
  <div class={styles.container}>
    {image ? (
      <img
        src={image}
        alt={alt}
        class={styles.mainImage}
        data-u-parallax="2"
      />
    ) : (
      <div class={styles.placeholder}>
        <span>Main Image</span>
      </div>
    )}
  </div>
</section>

<script>
  import Ukiyo from 'ukiyojs';

  document.addEventListener('DOMContentLoaded', () => {
    const image = document.querySelector('[data-u-parallax]');
    if (image) {
      new Ukiyo(image as HTMLElement, {
        scale: 1.2,
        speed: 1.5
      });
    }
  });
</script>
