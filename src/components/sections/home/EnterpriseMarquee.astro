---
// Infinite Slider Marquee - Astro Island with Motion Dev
// Uses client:load for interactive animation
import styles from './EnterpriseMarquee.module.css';

const LOGOS = [
  { src: "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/AntojosSabores.svg", alt: "Antojos Sabores Logo", height: 43 },
  { src: "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/Galicia.svg", alt: "Galicia Logo", height: 36 },
  { src: "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/InglesIndividual.svg", alt: "Inglés Individual Logo", height: 43 },
  { src: "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/Latiz.svg", alt: "Latiz Logo", height: 36 },
  { src: "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/MexicoPacific.svg", alt: "Mexico Pacific Logo", height: 43 },
  { src: "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/Pinnacle.svg", alt: "Pinnacle Logo", height: 40 },
  { src: "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/SinfonicadeMineria.svg", alt: "Sinfónica de Minería Logo", height: 43 },
  { src: "https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/TioFrancisco%20.svg", alt: "Tío Francisco Logo", height: 40 },
];
---

<section class={styles.enterpriseMarquee}>
  <div class={styles.marqueeWrapper}>
    <div class={styles.marqueeContent}>

      
      <!-- Slider section -->
      <div class={styles.marqueeSlider} id="marquee-slider">
        <div class={styles.sliderTrack} id="slider-track">
          {LOGOS.map((logo, index) => (
            <>
              <div class={styles.logoItem}>
                <img
                  src={logo.src}
                  alt={logo.alt}
                  style={`height: ${logo.height}px`}
                  width="auto"
                />
              </div>
              {index < LOGOS.length - 1 && <div class={styles.logoSeparator}></div>}
            </>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const sliderTrack = document.getElementById('slider-track');
    
    if (sliderTrack) {
      // Clone all logo items to create seamless infinite scroll
      const logoItems = sliderTrack.children;
      const itemsArray = Array.from(logoItems);
      
      // Duplicate the items for seamless loop
      itemsArray.forEach(item => {
        const clone = item.cloneNode(true);
        sliderTrack.appendChild(clone);
      });
      
      // Set up the animation
      const totalWidth = sliderTrack.scrollWidth / 2; // Half because we duplicated
      sliderTrack.style.setProperty('--scroll-width', `${totalWidth}px`);
    }
  });
</script>
