---
import { getLangFromUrl } from '../../../i18n/utils.js';
import { translations } from '../../../i18n/translations.js';
import styles from './Banner.module.css';
import BannerBackgroundEffectsContainer from '../../modules/banner/BannerBackgroundEffectsContainer.astro';
import FloatingDustContainer from '../../modules/banner/FloatingDustContainer.astro';
import MainButton from '../../ui/MainButton.astro';
import TiltContainer from '../../ui/TiltContainer.astro';
import ChatbotSearchContainer from '../../modules/chatbot-search/ChatbotSearchContainer.astro';

// Detect current language
const currentLang = getLangFromUrl(Astro.url);
const t = translations[currentLang];
---

<section class={styles.banner}>
  <div class={styles.bannerContainer}>
    <!-- Capa de fondo con efectos WebGL y textura -->
    <BannerBackgroundEffectsContainer />
    
    <!-- Floating dust particles -->
    <FloatingDustContainer />
    
    <!-- Contenido principal -->
    <div class={styles.content}>
      <div class={styles.contentInner}>
        <!-- Aurin Logo -->
        <div class={styles.logoContainer}>
          <TiltContainer rotationFactor={10}>
            <img 
              src="https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/AurinTinyWhiteLogo.svg"
              alt="Aurin Logo"
              class={styles.logo}
              draggable="false"
            />
          </TiltContainer>
        </div>

        <!-- TÃ­tulos -->
        <div class={styles.titles}>
          <h2 class={styles.title1}>
            {t.banner.title1}
          </h2>
          <h2 class={styles.title2}>
            {t.banner.title2}
          </h2>
        </div>

        <!-- Search Input -->
        <div class={styles.searchContainer}>
          <ChatbotSearchContainer />
        </div>

        <!-- CTA Button -->
        <div class={styles.ctaContainer}>
          <MainButton text={t.banner.buttonText} href="/contacto" />
        </div>

        <!-- Social Links -->
        <div class={styles.socialLinks}>
          <a 
            href="https://www.instagram.com/aurinmx?igsh=MWxyOW5obGtpaHUwMA==" 
            target="_blank" 
            rel="noopener noreferrer" 
            class={styles.socialIcon}
            aria-label="Instagram"
          >
            <img 
              src="https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/Instagram.svg" 
              alt="Instagram"
              width="24"
              height="24"
            />
          </a>

          <a 
            href="https://www.linkedin.com/company/aurinmx/" 
            target="_blank" 
            rel="noopener noreferrer" 
            class={styles.socialIcon}
            aria-label="LinkedIn"
          >
            <img 
              src="https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/Linkedin.svg" 
              alt="LinkedIn"
              width="24"
              height="24"
            />
          </a>

          <a 
            href="https://www.facebook.com/profile.php?id=61569531232140" 
            target="_blank" 
            rel="noopener noreferrer" 
            class={styles.socialIcon}
            aria-label="Facebook"
          >
            <img 
              src="https://pub-d17bbbdbf8e348c5a57c8168ad69c92f.r2.dev/Facebook.svg" 
              alt="Facebook"
              width="24"
              height="24"
            />
          </a>
        </div>

   
      </div>
    </div>
  </div>
</section>
