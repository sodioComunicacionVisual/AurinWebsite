---
// Componente isla para Lenis - Smooth Scrolling
// Siguiendo buenas prácticas de Astro Islands:
// - Solo carga JS cuando es necesario
// - Usa client:load para hidratar inmediatamente (necesario para scroll)
---

<div id="lenis-wrapper">
  <slot />
</div>

<script is:inline>
  import('lenis').then(({ default: Lenis }) => {
    // Inicializar Lenis con configuración optimizada
    const lenis = new Lenis({
      autoRaf: true,
      smoothWheel: true,
      lerp: 0.1,
      duration: 1.2,
      orientation: 'vertical',
      gestureOrientation: 'vertical',
      smoothTouch: false,
      wheelMultiplier: 1,
      touchMultiplier: 2,
      infinite: false,
    });

    // Exponer lenis globalmente para integraciones
    if (typeof window !== 'undefined') {
      window.lenis = lenis;
    }

    // Cleanup al desmontar
    document.addEventListener('astro:before-swap', () => {
      lenis.destroy();
    });
  });
</script>

<style>
  #lenis-wrapper {
    width: 100%;
    height: 100%;
  }
</style>
