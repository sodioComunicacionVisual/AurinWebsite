{
  "name": "RAG Agent",
  "nodes": [
    {
      "parameters": {},
      "id": "4c23482f-70ea-4d60-8653-f1f65c4d2f35",
      "name": "Execute Workflow Trigger",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1,
      "position": [
        64,
        -64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Extraer la pregunta del input\nconst question = $input.item.json.question || $input.item.json.query || '';\nconst lowerQuestion = question.toLowerCase();\n\nreturn {\n  json: {\n    question: question,\n    lowerQuestion: lowerQuestion,\n    timestamp: new Date().toISOString()\n  }\n};"
      },
      "id": "74818881-6bd8-4290-bebd-5e2542b7a167",
      "name": "Parse Question",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        288,
        -64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Base de conocimientos completa de Aurin\nconst question = $input.item.json.lowerQuestion;\n\n// Base de datos de conocimientos\nconst knowledgeBase = {\n  servicios: {\n    keywords: ['servicio', 'ofrece', 'hace', 'que hace', 'quÃ© ofrece', 'services', 'what do you do'],\n    response: `**Servicios de Aurin - Agencia de ComunicaciÃ³n Visual**\\n\\nAurin es una agencia de diseÃ±o y comunicaciÃ³n visual con sede en MÃ©xico. Nuestros servicios incluyen:\\n\\n**ðŸŽ¨ Servicios Principales:**\\n\\n1. **DiseÃ±o GrÃ¡fico**\\n   - Servicios profesionales de diseÃ±o grÃ¡fico para medios digitales e impresos\\n   - Materiales de marketing y publicidad\\n   - DiseÃ±o editorial y de publicaciones\\n\\n2. **Branding e Identidad Corporativa**\\n   - Desarrollo de marca completo\\n   - Identidad visual estratÃ©gica\\n   - Manual de marca y lineamientos de uso\\n   - Naming y posicionamiento\\n\\n3. **DiseÃ±o UX/UI**\\n   - DiseÃ±o de experiencia de usuario\\n   - Interfaces digitales intuitivas\\n   - Prototipado y testing de usabilidad\\n   - DiseÃ±o responsive y mobile-first\\n\\n4. **Estrategia Digital**\\n   - ConsultorÃ­a de comunicaciÃ³n digital\\n   - Estrategia de contenido visual\\n   - OptimizaciÃ³n de presencia digital\\n   - Marketing visual\\n\\n**ðŸ“‹ Nuestro Proceso:**\\n1. Consulta inicial gratuita para entender tu proyecto\\n2. InvestigaciÃ³n y anÃ¡lisis estratÃ©gico\\n3. Desarrollo creativo y conceptualizaciÃ³n\\n4. ImplementaciÃ³n y entrega de archivos\\n5. Seguimiento post-lanzamiento\\n\\nÂ¿Te gustarÃ­a agendar una consulta gratuita para discutir tu proyecto especÃ­fico?`\n  },\n  \n  nosotros: {\n    keywords: ['quiÃ©nes son', 'sobre ustedes', 'quiÃ©n es aurin', 'about', 'who are you', 'aldea creativa'],\n    response: `**Sobre Aurin**\\n\\n**ðŸŒŸ QuiÃ©nes Somos:**\\nAurin es una agencia de diseÃ±o y comunicaciÃ³n visual fundada en 2020, con sede en MÃ©xico. Formamos parte de **Aldea Creativa**, un ecosistema de creativos y profesionales del diseÃ±o.\\n\\n**ðŸŽ¯ Nuestra MisiÃ³n:**\\nExploramos rutas inexploradas en comunicaciÃ³n visual, combinando diseÃ±o estratÃ©gico con storytelling visual para crear experiencias memorables.\\n\\n**ðŸ’¡ Nuestra FilosofÃ­a:**\\n- **DiseÃ±o con propÃ³sito:** Cada proyecto tiene un objetivo claro\\n- **ColaboraciÃ³n creativa:** Trabajamos codo a codo con nuestros clientes\\n- **InnovaciÃ³n constante:** Exploramos nuevas formas de comunicar visualmente\\n- **Excelencia en ejecuciÃ³n:** AtenciÃ³n al detalle en cada entrega\\n\\n**ðŸ¤ CÃ³mo Trabajamos:**\\nCreemos en el diseÃ±o colaborativo. No solo ejecutamos, sino que nos involucramos en entender tu negocio, tus objetivos y tu audiencia para crear soluciones que realmente funcionen.\\n\\n**ðŸŒ UbicaciÃ³n:**\\nAldea Creativa, MÃ©xico\\n\\n**ðŸ“§ Contacto:**\\nhey@aurin.mx\\n\\nÂ¿Quieres conocer mÃ¡s sobre nuestro equipo o proceso de trabajo?`\n  },\n  \n  portafolio: {\n    keywords: ['portafolio', 'proyectos', 'trabajos', 'clientes', 'portfolio', 'cases', 'ejemplos'],\n    response: `**Portafolio de Aurin**\\n\\n**ðŸ† Nuestra Experiencia:**\\nHemos trabajado con empresas de diversos sectores, desde startups emergentes hasta empresas establecidas, ayudÃ¡ndoles a construir y fortalecer su identidad visual.\\n\\n**ðŸŽ¯ Sectores en los que trabajamos:**\\n- TecnologÃ­a y startups\\n- Retail y comercio\\n- Servicios profesionales\\n- EducaciÃ³n y cultura\\n- GastronomÃ­a y hospitalidad\\n- Salud y bienestar\\n\\n**ðŸ“± Tipos de Proyectos:**\\n- Branding completo (desde naming hasta implementaciÃ³n)\\n- RediseÃ±o de marca\\n- DiseÃ±o de sitios web y aplicaciones\\n- CampaÃ±as de marketing visual\\n- Sistemas de identidad visual\\n- DiseÃ±o editorial\\n\\n**âœ¨ Lo que nos diferencia:**\\n- Enfoque estratÃ©gico en cada proyecto\\n- AtenciÃ³n personalizada\\n- Procesos colaborativos\\n- Entrega de manuales completos de uso\\n- Seguimiento post-implementaciÃ³n\\n\\nÂ¿Te gustarÃ­a agendar una consulta para discutir cÃ³mo podemos ayudarte con tu proyecto?`\n  },\n  \n  proceso: {\n    keywords: ['proceso', 'cÃ³mo trabajan', 'metodologÃ­a', 'pasos', 'how do you work', 'workflow'],\n    response: `**Proceso de Trabajo de Aurin**\\n\\n**ðŸ“‹ Nuestra MetodologÃ­a en 5 Pasos:**\\n\\n**1. ðŸ’¬ Consulta Inicial (GRATUITA)**\\n   - ReuniÃ³n para conocer tu proyecto\\n   - Entendimiento de objetivos y necesidades\\n   - AnÃ¡lisis de tu audiencia objetivo\\n   - DefiniciÃ³n de alcance y timeline\\n   DuraciÃ³n: 30-60 minutos\\n\\n**2. ðŸ” InvestigaciÃ³n y Estrategia**\\n   - AnÃ¡lisis de competencia\\n   - Research de mercado\\n   - DefiniciÃ³n de concepto creativo\\n   - Propuesta estratÃ©gica\\n   - PresentaciÃ³n de moodboards\\n\\n**3. ðŸŽ¨ Desarrollo Creativo**\\n   - ConceptualizaciÃ³n visual\\n   - Primeras propuestas de diseÃ±o\\n   - IteraciÃ³n basada en feedback\\n   - Refinamiento de conceptos\\n   - PresentaciÃ³n de opciones finales\\n\\n**4. âœ… ImplementaciÃ³n y Entrega**\\n   - Desarrollo final de archivos\\n   - Adaptaciones para diferentes medios\\n   - Entrega de manual de uso\\n   - Archivos fuente y exportados\\n   - GuÃ­as de implementaciÃ³n\\n\\n**5. ðŸš€ Seguimiento Post-Lanzamiento**\\n   - Soporte en implementaciÃ³n\\n   - Ajustes menores si es necesario\\n   - Monitoreo de resultados\\n   - Recomendaciones de mejora\\n\\n**â±ï¸ Tiempos estimados:**\\n- Branding completo: 4-8 semanas\\n- DiseÃ±o web: 3-6 semanas\\n- Proyectos de diseÃ±o grÃ¡fico: 1-3 semanas\\n\\nÂ¿Listo para comenzar? Â¡Agenda tu consulta gratuita!`\n  },\n  \n  precios: {\n    keywords: ['precio', 'costo', 'cuÃ¡nto cuesta', 'tarifas', 'presupuesto', 'price', 'cost', 'how much'],\n    response: `**InversiÃ³n en Proyectos de Aurin**\\n\\n**ðŸ’° Enfoque de Pricing:**\\nEn Aurin, cada proyecto es Ãºnico. Nuestras tarifas se adaptan a la complejidad, alcance y objetivos especÃ­ficos de tu proyecto.\\n\\n**ðŸŽ¯ Factores que consideramos:**\\n- Alcance del proyecto\\n- Complejidad del diseÃ±o\\n- NÃºmero de entregas/iteraciones\\n- Timeline requerido\\n- Nivel de investigaciÃ³n necesario\\n- ImplementaciÃ³n y soporte\\n\\n**ðŸ“Š Rangos Generales:**\\n\\n**Proyectos de Branding Completo:**\\nDesde identidad bÃ¡sica hasta sistemas complejos de marca\\n\\n**DiseÃ±o Web/UX-UI:**\\nSitios web responsivos, aplicaciones, experiencias digitales\\n\\n**DiseÃ±o GrÃ¡fico:**\\nMateriales especÃ­ficos, campaÃ±as, diseÃ±o editorial\\n\\n**ConsultorÃ­a y Estrategia:**\\nSesiones estratÃ©gicas, auditorÃ­as de marca, workshops\\n\\n**ðŸ’¡ Siguiente Paso:**\\nPara darte un presupuesto preciso, necesitamos entender mejor tu proyecto. Â¿Te gustarÃ­a agendar una consulta gratuita de 30-60 minutos?\\n\\nDurante la consulta:\\nâœ… Entendemos tus necesidades\\nâœ… Definimos alcance del proyecto\\nâœ… Te presentamos una propuesta personalizada\\nâœ… Respondemos todas tus preguntas\\n\\nÂ¿Prefieres que te contactemos por email o agendamos una videollamada?`\n  },\n  \n  contacto: {\n    keywords: ['contacto', 'email', 'telÃ©fono', 'cita', 'reuniÃ³n', 'contact', 'meeting', 'appointment'],\n    response: `**Contacta a Aurin**\\n\\n**ðŸ“§ Email:**\\nhey@aurin.mx\\n\\n**ðŸŒ Sitio Web:**\\nhttps://aurin.mx\\n\\n**ðŸ“ UbicaciÃ³n:**\\nAldea Creativa, MÃ©xico\\n\\n**â° Horario de AtenciÃ³n:**\\nLunes a Viernes: 9:00 AM - 6:00 PM (Zona horaria: Ciudad de MÃ©xico GMT-6)\\n\\n**ðŸ“… Agendar Consulta Gratuita:**\\nOfrecemos consultas gratuitas de 30-60 minutos para:\\n- Entender tu proyecto\\n- Discutir objetivos y necesidades\\n- Proponer soluciones\\n- Responder todas tus preguntas\\n\\n**Â¿CÃ³mo prefieres que continuemos?**\\n1. ðŸ“… Agendar una videollamada (reviso disponibilidad)\\n2. âœ‰ï¸ Enviarte informaciÃ³n por email\\n3. ðŸŽ« Crear un ticket para que el equipo te contacte\\n\\nÂ¿QuÃ© opciÃ³n prefieres?`\n  },\n  \n  herramientas: {\n    keywords: ['herramientas', 'software', 'programas', 'tecnologÃ­a', 'tools', 'tech stack'],\n    response: `**Herramientas y TecnologÃ­a de Aurin**\\n\\n**ðŸŽ¨ DiseÃ±o y Creatividad:**\\n- Adobe Creative Suite (Photoshop, Illustrator, InDesign)\\n- Figma para diseÃ±o UX/UI\\n- Sketch para interfaces\\n- Adobe XD para prototipos\\n\\n**ðŸ–¥ï¸ Desarrollo Web:**\\n- HTML5, CSS3, JavaScript\\n- React y frameworks modernos\\n- Responsive design\\n- OptimizaciÃ³n web\\n\\n**ðŸ“Š Estrategia y AnÃ¡lisis:**\\n- Herramientas de research de mercado\\n- AnÃ¡lisis de competencia\\n- Testing de usabilidad\\n- Analytics y mÃ©tricas\\n\\n**ðŸ¤ ColaboraciÃ³n:**\\n- Presentaciones interactivas\\n- Prototipos clickeables\\n- Boards de colaboraciÃ³n\\n- Sistemas de feedback en tiempo real\\n\\n**âœ¨ Storytelling Visual:**\\nUtilizamos tÃ©cnicas avanzadas de storytelling para crear narrativas visuales que conectan emocionalmente con tu audiencia.\\n\\nÂ¿Tienes un proyecto en mente? CuÃ©ntame mÃ¡s sobre lo que necesitas.`\n  },\n\n  uxui: {\n    keywords: ['ux', 'ui', 'experiencia', 'usuario', 'interfaz', 'usabilidad', 'user experience'],\n    response: `**Servicios UX/UI de Aurin**\\n\\n**ðŸŽ¯ DiseÃ±o de Experiencia de Usuario (UX):**\\n\\n**Research y AnÃ¡lisis:**\\n- InvestigaciÃ³n de usuarios\\n- Personas y user journeys\\n- AnÃ¡lisis de comportamiento\\n- Testing de usabilidad\\n\\n**Arquitectura de InformaciÃ³n:**\\n- EstructuraciÃ³n de contenido\\n- Flujos de navegaciÃ³n\\n- Wireframing\\n- Mapas de sitio\\n\\n**ðŸŽ¨ DiseÃ±o de Interfaz (UI):**\\n\\n**DiseÃ±o Visual:**\\n- Interfaces intuitivas y atractivas\\n- Sistemas de diseÃ±o escalables\\n- Componentes reutilizables\\n- Design tokens\\n\\n**InteracciÃ³n:**\\n- Microinteracciones\\n- Animaciones significativas\\n- Feedback visual\\n- Estados de la interfaz\\n\\n**ðŸ“± Responsive Design:**\\n- Mobile-first approach\\n- AdaptaciÃ³n a todos los dispositivos\\n- Touch-friendly interfaces\\n- Performance optimization\\n\\n**âœ… Entregables:**\\n- Prototipos interactivos\\n- Design system completo\\n- Especificaciones para desarrollo\\n- GuÃ­as de estilo\\n- DocumentaciÃ³n tÃ©cnica\\n\\nÂ¿Tienes un proyecto digital en mente? Â¡Hablemos!`\n  }\n};\n\n// Buscar la mejor respuesta\nlet bestMatch = null;\nlet maxMatches = 0;\n\nfor (const [category, data] of Object.entries(knowledgeBase)) {\n  const matches = data.keywords.filter(keyword => question.includes(keyword)).length;\n  if (matches > maxMatches) {\n    maxMatches = matches;\n    bestMatch = data.response;\n  }\n}\n\n// Si no hay coincidencia, dar respuesta genÃ©rica\nconst finalResponse = bestMatch || `**InformaciÃ³n sobre Aurin**\\n\\nAurin es una agencia de diseÃ±o y comunicaciÃ³n visual en MÃ©xico, especializada en:\\n\\n- ðŸŽ¨ DiseÃ±o grÃ¡fico y branding\\n- ðŸ’» UX/UI y diseÃ±o digital\\n- ðŸ“Š Estrategia de comunicaciÃ³n visual\\n- âœ¨ Storytelling visual\\n\\n**Puedo ayudarte con informaciÃ³n sobre:**\\n- Nuestros servicios y proceso de trabajo\\n- Portafolio y casos de Ã©xito\\n- Precios y presupuestos\\n- Agendar una consulta gratuita\\n- InformaciÃ³n de contacto\\n\\nÂ¿QuÃ© te gustarÃ­a saber especÃ­ficamente?`;\n\nreturn {\n  json: {\n    response: finalResponse,\n    category: bestMatch ? Object.keys(knowledgeBase).find(k => knowledgeBase[k].response === bestMatch) : 'general',\n    confidence: maxMatches > 0 ? 'high' : 'low'\n  }\n};"
      },
      "id": "842bdcb9-fb00-4a08-8e7c-908c62293792",
      "name": "Knowledge Base Lookup",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        496,
        -64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Formatear respuesta para el agente principal\nconst response = $input.item.json.response;\nconst category = $input.item.json.category;\nconst confidence = $input.item.json.confidence;\n\nreturn {\n  json: {\n    output: response,\n    success: true,\n    source: 'knowledge_base',\n    category: category,\n    confidence: confidence\n  }\n};"
      },
      "id": "d5bf3251-6262-47f7-b5b9-cc2950fa7744",
      "name": "Format Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        720,
        -64
      ]
    }
  ],
  "pinData": {},
  "connections": {
    "Execute Workflow Trigger": {
      "main": [
        [
          {
            "node": "Parse Question",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Question": {
      "main": [
        [
          {
            "node": "Knowledge Base Lookup",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Knowledge Base Lookup": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "75631793-1d78-424d-bfa9-f5be4ba74156",
  "meta": {
    "instanceId": "473b8e2f44c2c249c630a674e0ffd242a718055278d7a389908825386c510f30"
  },
  "id": "rPEVrWKRByrpoSC6",
  "tags": []
}