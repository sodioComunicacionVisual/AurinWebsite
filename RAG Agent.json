{
  "name": "RAG Agent",
  "nodes": [
    {
      "parameters": {},
      "id": "4c23482f-70ea-4d60-8653-f1f65c4d2f35",
      "name": "Execute Workflow Trigger",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1,
      "position": [
        64,
        -64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Extraer la pregunta del input\nconst question = $input.item.json.question || $input.item.json.query || '';\nconst lowerQuestion = question.toLowerCase();\n\nreturn {\n  json: {\n    question: question,\n    lowerQuestion: lowerQuestion,\n    timestamp: new Date().toISOString()\n  }\n};"
      },
      "id": "74818881-6bd8-4290-bebd-5e2542b7a167",
      "name": "Parse Question",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        288,
        -64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Base de conocimientos completa de Aurin\nconst question = $input.item.json.lowerQuestion;\n\n// Base de datos de conocimientos\nconst knowledgeBase = {\n  servicios: {\n    keywords: ['servicio', 'ofrece', 'hace', 'que hace', 'qué ofrece', 'services', 'what do you do'],\n    response: `**Servicios de Aurin - Agencia de Comunicación Visual**\\n\\nAurin es una agencia de diseño y comunicación visual con sede en México. Nuestros servicios incluyen:\\n\\n**🎨 Servicios Principales:**\\n\\n1. **Diseño Gráfico**\\n   - Servicios profesionales de diseño gráfico para medios digitales e impresos\\n   - Materiales de marketing y publicidad\\n   - Diseño editorial y de publicaciones\\n\\n2. **Branding e Identidad Corporativa**\\n   - Desarrollo de marca completo\\n   - Identidad visual estratégica\\n   - Manual de marca y lineamientos de uso\\n   - Naming y posicionamiento\\n\\n3. **Diseño UX/UI**\\n   - Diseño de experiencia de usuario\\n   - Interfaces digitales intuitivas\\n   - Prototipado y testing de usabilidad\\n   - Diseño responsive y mobile-first\\n\\n4. **Estrategia Digital**\\n   - Consultoría de comunicación digital\\n   - Estrategia de contenido visual\\n   - Optimización de presencia digital\\n   - Marketing visual\\n\\n**📋 Nuestro Proceso:**\\n1. Consulta inicial gratuita para entender tu proyecto\\n2. Investigación y análisis estratégico\\n3. Desarrollo creativo y conceptualización\\n4. Implementación y entrega de archivos\\n5. Seguimiento post-lanzamiento\\n\\n¿Te gustaría agendar una consulta gratuita para discutir tu proyecto específico?`\n  },\n  \n  nosotros: {\n    keywords: ['quiénes son', 'sobre ustedes', 'quién es aurin', 'about', 'who are you', 'aldea creativa'],\n    response: `**Sobre Aurin**\\n\\n**🌟 Quiénes Somos:**\\nAurin es una agencia de diseño y comunicación visual fundada en 2020, con sede en México. Formamos parte de **Aldea Creativa**, un ecosistema de creativos y profesionales del diseño.\\n\\n**🎯 Nuestra Misión:**\\nExploramos rutas inexploradas en comunicación visual, combinando diseño estratégico con storytelling visual para crear experiencias memorables.\\n\\n**💡 Nuestra Filosofía:**\\n- **Diseño con propósito:** Cada proyecto tiene un objetivo claro\\n- **Colaboración creativa:** Trabajamos codo a codo con nuestros clientes\\n- **Innovación constante:** Exploramos nuevas formas de comunicar visualmente\\n- **Excelencia en ejecución:** Atención al detalle en cada entrega\\n\\n**🤝 Cómo Trabajamos:**\\nCreemos en el diseño colaborativo. No solo ejecutamos, sino que nos involucramos en entender tu negocio, tus objetivos y tu audiencia para crear soluciones que realmente funcionen.\\n\\n**🌐 Ubicación:**\\nAldea Creativa, México\\n\\n**📧 Contacto:**\\nhey@aurin.mx\\n\\n¿Quieres conocer más sobre nuestro equipo o proceso de trabajo?`\n  },\n  \n  portafolio: {\n    keywords: ['portafolio', 'proyectos', 'trabajos', 'clientes', 'portfolio', 'cases', 'ejemplos'],\n    response: `**Portafolio de Aurin**\\n\\n**🏆 Nuestra Experiencia:**\\nHemos trabajado con empresas de diversos sectores, desde startups emergentes hasta empresas establecidas, ayudándoles a construir y fortalecer su identidad visual.\\n\\n**🎯 Sectores en los que trabajamos:**\\n- Tecnología y startups\\n- Retail y comercio\\n- Servicios profesionales\\n- Educación y cultura\\n- Gastronomía y hospitalidad\\n- Salud y bienestar\\n\\n**📱 Tipos de Proyectos:**\\n- Branding completo (desde naming hasta implementación)\\n- Rediseño de marca\\n- Diseño de sitios web y aplicaciones\\n- Campañas de marketing visual\\n- Sistemas de identidad visual\\n- Diseño editorial\\n\\n**✨ Lo que nos diferencia:**\\n- Enfoque estratégico en cada proyecto\\n- Atención personalizada\\n- Procesos colaborativos\\n- Entrega de manuales completos de uso\\n- Seguimiento post-implementación\\n\\n¿Te gustaría agendar una consulta para discutir cómo podemos ayudarte con tu proyecto?`\n  },\n  \n  proceso: {\n    keywords: ['proceso', 'cómo trabajan', 'metodología', 'pasos', 'how do you work', 'workflow'],\n    response: `**Proceso de Trabajo de Aurin**\\n\\n**📋 Nuestra Metodología en 5 Pasos:**\\n\\n**1. 💬 Consulta Inicial (GRATUITA)**\\n   - Reunión para conocer tu proyecto\\n   - Entendimiento de objetivos y necesidades\\n   - Análisis de tu audiencia objetivo\\n   - Definición de alcance y timeline\\n   Duración: 30-60 minutos\\n\\n**2. 🔍 Investigación y Estrategia**\\n   - Análisis de competencia\\n   - Research de mercado\\n   - Definición de concepto creativo\\n   - Propuesta estratégica\\n   - Presentación de moodboards\\n\\n**3. 🎨 Desarrollo Creativo**\\n   - Conceptualización visual\\n   - Primeras propuestas de diseño\\n   - Iteración basada en feedback\\n   - Refinamiento de conceptos\\n   - Presentación de opciones finales\\n\\n**4. ✅ Implementación y Entrega**\\n   - Desarrollo final de archivos\\n   - Adaptaciones para diferentes medios\\n   - Entrega de manual de uso\\n   - Archivos fuente y exportados\\n   - Guías de implementación\\n\\n**5. 🚀 Seguimiento Post-Lanzamiento**\\n   - Soporte en implementación\\n   - Ajustes menores si es necesario\\n   - Monitoreo de resultados\\n   - Recomendaciones de mejora\\n\\n**⏱️ Tiempos estimados:**\\n- Branding completo: 4-8 semanas\\n- Diseño web: 3-6 semanas\\n- Proyectos de diseño gráfico: 1-3 semanas\\n\\n¿Listo para comenzar? ¡Agenda tu consulta gratuita!`\n  },\n  \n  precios: {\n    keywords: ['precio', 'costo', 'cuánto cuesta', 'tarifas', 'presupuesto', 'price', 'cost', 'how much'],\n    response: `**Inversión en Proyectos de Aurin**\\n\\n**💰 Enfoque de Pricing:**\\nEn Aurin, cada proyecto es único. Nuestras tarifas se adaptan a la complejidad, alcance y objetivos específicos de tu proyecto.\\n\\n**🎯 Factores que consideramos:**\\n- Alcance del proyecto\\n- Complejidad del diseño\\n- Número de entregas/iteraciones\\n- Timeline requerido\\n- Nivel de investigación necesario\\n- Implementación y soporte\\n\\n**📊 Rangos Generales:**\\n\\n**Proyectos de Branding Completo:**\\nDesde identidad básica hasta sistemas complejos de marca\\n\\n**Diseño Web/UX-UI:**\\nSitios web responsivos, aplicaciones, experiencias digitales\\n\\n**Diseño Gráfico:**\\nMateriales específicos, campañas, diseño editorial\\n\\n**Consultoría y Estrategia:**\\nSesiones estratégicas, auditorías de marca, workshops\\n\\n**💡 Siguiente Paso:**\\nPara darte un presupuesto preciso, necesitamos entender mejor tu proyecto. ¿Te gustaría agendar una consulta gratuita de 30-60 minutos?\\n\\nDurante la consulta:\\n✅ Entendemos tus necesidades\\n✅ Definimos alcance del proyecto\\n✅ Te presentamos una propuesta personalizada\\n✅ Respondemos todas tus preguntas\\n\\n¿Prefieres que te contactemos por email o agendamos una videollamada?`\n  },\n  \n  contacto: {\n    keywords: ['contacto', 'email', 'teléfono', 'cita', 'reunión', 'contact', 'meeting', 'appointment'],\n    response: `**Contacta a Aurin**\\n\\n**📧 Email:**\\nhey@aurin.mx\\n\\n**🌐 Sitio Web:**\\nhttps://aurin.mx\\n\\n**📍 Ubicación:**\\nAldea Creativa, México\\n\\n**⏰ Horario de Atención:**\\nLunes a Viernes: 9:00 AM - 6:00 PM (Zona horaria: Ciudad de México GMT-6)\\n\\n**📅 Agendar Consulta Gratuita:**\\nOfrecemos consultas gratuitas de 30-60 minutos para:\\n- Entender tu proyecto\\n- Discutir objetivos y necesidades\\n- Proponer soluciones\\n- Responder todas tus preguntas\\n\\n**¿Cómo prefieres que continuemos?**\\n1. 📅 Agendar una videollamada (reviso disponibilidad)\\n2. ✉️ Enviarte información por email\\n3. 🎫 Crear un ticket para que el equipo te contacte\\n\\n¿Qué opción prefieres?`\n  },\n  \n  herramientas: {\n    keywords: ['herramientas', 'software', 'programas', 'tecnología', 'tools', 'tech stack'],\n    response: `**Herramientas y Tecnología de Aurin**\\n\\n**🎨 Diseño y Creatividad:**\\n- Adobe Creative Suite (Photoshop, Illustrator, InDesign)\\n- Figma para diseño UX/UI\\n- Sketch para interfaces\\n- Adobe XD para prototipos\\n\\n**🖥️ Desarrollo Web:**\\n- HTML5, CSS3, JavaScript\\n- React y frameworks modernos\\n- Responsive design\\n- Optimización web\\n\\n**📊 Estrategia y Análisis:**\\n- Herramientas de research de mercado\\n- Análisis de competencia\\n- Testing de usabilidad\\n- Analytics y métricas\\n\\n**🤝 Colaboración:**\\n- Presentaciones interactivas\\n- Prototipos clickeables\\n- Boards de colaboración\\n- Sistemas de feedback en tiempo real\\n\\n**✨ Storytelling Visual:**\\nUtilizamos técnicas avanzadas de storytelling para crear narrativas visuales que conectan emocionalmente con tu audiencia.\\n\\n¿Tienes un proyecto en mente? Cuéntame más sobre lo que necesitas.`\n  },\n\n  uxui: {\n    keywords: ['ux', 'ui', 'experiencia', 'usuario', 'interfaz', 'usabilidad', 'user experience'],\n    response: `**Servicios UX/UI de Aurin**\\n\\n**🎯 Diseño de Experiencia de Usuario (UX):**\\n\\n**Research y Análisis:**\\n- Investigación de usuarios\\n- Personas y user journeys\\n- Análisis de comportamiento\\n- Testing de usabilidad\\n\\n**Arquitectura de Información:**\\n- Estructuración de contenido\\n- Flujos de navegación\\n- Wireframing\\n- Mapas de sitio\\n\\n**🎨 Diseño de Interfaz (UI):**\\n\\n**Diseño Visual:**\\n- Interfaces intuitivas y atractivas\\n- Sistemas de diseño escalables\\n- Componentes reutilizables\\n- Design tokens\\n\\n**Interacción:**\\n- Microinteracciones\\n- Animaciones significativas\\n- Feedback visual\\n- Estados de la interfaz\\n\\n**📱 Responsive Design:**\\n- Mobile-first approach\\n- Adaptación a todos los dispositivos\\n- Touch-friendly interfaces\\n- Performance optimization\\n\\n**✅ Entregables:**\\n- Prototipos interactivos\\n- Design system completo\\n- Especificaciones para desarrollo\\n- Guías de estilo\\n- Documentación técnica\\n\\n¿Tienes un proyecto digital en mente? ¡Hablemos!`\n  }\n};\n\n// Buscar la mejor respuesta\nlet bestMatch = null;\nlet maxMatches = 0;\n\nfor (const [category, data] of Object.entries(knowledgeBase)) {\n  const matches = data.keywords.filter(keyword => question.includes(keyword)).length;\n  if (matches > maxMatches) {\n    maxMatches = matches;\n    bestMatch = data.response;\n  }\n}\n\n// Si no hay coincidencia, dar respuesta genérica\nconst finalResponse = bestMatch || `**Información sobre Aurin**\\n\\nAurin es una agencia de diseño y comunicación visual en México, especializada en:\\n\\n- 🎨 Diseño gráfico y branding\\n- 💻 UX/UI y diseño digital\\n- 📊 Estrategia de comunicación visual\\n- ✨ Storytelling visual\\n\\n**Puedo ayudarte con información sobre:**\\n- Nuestros servicios y proceso de trabajo\\n- Portafolio y casos de éxito\\n- Precios y presupuestos\\n- Agendar una consulta gratuita\\n- Información de contacto\\n\\n¿Qué te gustaría saber específicamente?`;\n\nreturn {\n  json: {\n    response: finalResponse,\n    category: bestMatch ? Object.keys(knowledgeBase).find(k => knowledgeBase[k].response === bestMatch) : 'general',\n    confidence: maxMatches > 0 ? 'high' : 'low'\n  }\n};"
      },
      "id": "842bdcb9-fb00-4a08-8e7c-908c62293792",
      "name": "Knowledge Base Lookup",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        496,
        -64
      ]
    },
    {
      "parameters": {
        "jsCode": "// Formatear respuesta para el agente principal\nconst response = $input.item.json.response;\nconst category = $input.item.json.category;\nconst confidence = $input.item.json.confidence;\n\nreturn {\n  json: {\n    output: response,\n    success: true,\n    source: 'knowledge_base',\n    category: category,\n    confidence: confidence\n  }\n};"
      },
      "id": "d5bf3251-6262-47f7-b5b9-cc2950fa7744",
      "name": "Format Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        720,
        -64
      ]
    }
  ],
  "pinData": {},
  "connections": {
    "Execute Workflow Trigger": {
      "main": [
        [
          {
            "node": "Parse Question",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Question": {
      "main": [
        [
          {
            "node": "Knowledge Base Lookup",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Knowledge Base Lookup": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "75631793-1d78-424d-bfa9-f5be4ba74156",
  "meta": {
    "instanceId": "473b8e2f44c2c249c630a674e0ffd242a718055278d7a389908825386c510f30"
  },
  "id": "rPEVrWKRByrpoSC6",
  "tags": []
}